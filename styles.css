/* =========================================
   AlegreMente 2025 · Look claro y elegante (FIX FINAL)
========================================= */
:root{
  --bg:#f6f7ff;
  --bg-grad-1:#e7e9ff;
  --bg-grad-2:#f7e8ff;

  --ink:#111827;
  --muted:#6b7280;

  --card:#ffffff;
  --border:#e7eaf3;

  --azul:#0C41C4;      /* Azul Mozart */
  --violeta:#680DBF;   /* Violeta Beethoven */
  --magenta:#CE0071;   /* Magenta Brahms */

  --chip:rgba(17,24,39,.06);

  --radius:22px;
  --shadow:0 14px 28px rgba(17,24,39,.10), 0 2px 6px rgba(17,24,39,.06);
  --shadow-strong:0 20px 36px rgba(17,24,39,.16), 0 4px 10px rgba(17,24,39,.08);

  --t-fast:.16s;
  --t-med:.28s;
  --t-slow:.6s;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--ink);
  line-height:1.6;
  background:
    radial-gradient(1100px 520px at 12% -10%, var(--bg-grad-1) 0%, transparent 60%),
    radial-gradient(1100px 520px at 88% -10%, var(--bg-grad-2) 0%, transparent 60%),
    var(--bg);
}

img{max-width:100%;display:block;border-radius:12px}
.wrap{max-width:1080px;margin:0 auto;padding:0 18px}

/* =============================
   TOPBAR
============================= */
.topbar{
  position:sticky;top:0;z-index:10;
  display:flex;align-items:center;justify-content:space-between;gap:14px;
  padding:12px 16px;
  background:linear-gradient(90deg, #1b2456 0%, #3a2a88 60%, #5429a6 100%);
  border-bottom:1px solid rgba(255,255,255,.08);
  box-shadow:0 6px 18px rgba(31,41,55,.2);
}
.icon-btn{background:transparent;border:0;color:#fff;cursor:pointer;padding:6px;border-radius:12px}
.brand{display:flex;align-items:center;gap:12px}
.brand img{border-radius:12px;box-shadow:0 0 10px rgba(255,255,255,.15)}
.brand-text strong{color:#fff;font-weight:900;letter-spacing:.2px}
.brand-text small{display:block;color:#e5e7ff;margin-top:-2px}

/* Logos aliados */
.partners{display:flex;align-items:center;gap:12px}
.logo-badge{
  display:inline-flex;align-items:center;justify-content:center;
  background:rgba(255,255,255,.18);
  border-radius:12px;padding:6px 8px;
  box-shadow:0 2px 8px rgba(0,0,0,.18);
}

/* =============================
   DRAWER / MENÚ
============================= */
.drawer{
  position:fixed; inset:0 auto 0 0; width:min(360px, 90vw);
  background:#101631; color:#fff; transform:translateX(-100%);
  transition:transform var(--t-med) ease; z-index:30; box-shadow:0 0 50px rgba(0,0,0,.45);
  display:flex; flex-direction:column;
}
.drawer.open{transform:translateX(0)}
.drawer-head{
  display:flex;align-items:center;justify-content:space-between;
  padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.12)
}
.drawer-body{padding:14px 16px;overflow:auto}
.scrim{position:fixed;inset:0;background:rgba(0,0,0,.4);backdrop-filter:blur(2px);opacity:0;transition:opacity var(--t-med) ease;z-index:25}
.scrim[hidden]{display:none}
.drawer.open + .scrim{opacity:1}

/* Buscador dentro del drawer */
.search{
  display:flex;align-items:center;gap:10px;
  margin:10px 0 14px;padding:10px 14px;border-radius:999px;
  background:rgba(255,255,255,.10);
}
.search input{flex:1;border:0;outline:0;background:transparent;color:#fff;font-size:15px}
.search input::placeholder{color:rgba(255,255,255,.75)}

/* Menú de escenas */
.menu{display:grid;gap:12px}
.menu button{
  width:100%; text-align:left;
  background:rgba(255,255,255,.04); color:#fff;
  border:1px solid rgba(255,255,255,.12);
  border-radius:16px; padding:12px;
  display:flex; gap:12px; align-items:center; cursor:pointer;
  transition:transform var(--t-fast) ease, box-shadow var(--t-fast) ease, outline var(--t-fast);
}
.menu button:hover{transform:translateY(-1px)}
.menu button.active{outline:2px solid #9bb0ff;background:rgba(255,255,255,.06)}

.menu .thumb{width:60px;height:42px;border-radius:10px;overflow:hidden;flex:0 0 60px}
.menu .thumb img{width:100%;height:100%;object-fit:cover}

.menu .meta{width:100%}
.menu .tit{
  display:grid;
  grid-template-columns:auto 1fr;
  align-items:center;
  column-gap:10px;
  font-weight:800;
  line-height:1.25;
  color:#fff;
  overflow:hidden;
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
}
.menu .tit .num{
  justify-self:start;
  display:inline-grid;place-items:center;
  min-width:26px;height:26px;padding:0 6px;
  font-size:12px;font-weight:800;color:#fff;
  background:rgba(255,255,255,.20);
  border:1px solid rgba(255,255,255,.25);
  border-radius:999px;
  box-shadow:0 2px 6px rgba(0,0,0,.25);
  margin-right:6px;
}
.menu .chips{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}
.menu .chip{
  background:rgba(255,255,255,.16);
  padding:5px 10px;border-radius:999px;font-size:12px;color:#e8ecff;
}
.menu .muted,.menu .small{color:rgba(232,236,255,.8)}

/* =============================
   MOSAICO DE ESCENAS
============================= */
.tiles{
  padding:20px 18px 8px;
  display:grid; gap:18px;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
}
.tile{
  position:relative; border-radius:22px; overflow:hidden; cursor:pointer;
  border:1px solid var(--border); background:var(--card);
  box-shadow:var(--shadow); transform:translateY(0);
  transition:transform var(--t-fast) ease, box-shadow var(--t-fast) ease;
}
.tile:hover{ transform:translateY(-3px); box-shadow:var(--shadow-strong) }
.tile .img-wrap{ height:180px; overflow:hidden }
@media (min-width:960px){ .tile .img-wrap{ height:200px } }
.tile img{ width:100%; height:100%; object-fit:cover; display:block }
.tile .overlay{
  position:absolute; inset:auto 0 0 0;
  background:linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.55) 60%, rgba(0,0,0,.70) 100%);
  padding:12px 14px; color:#fff;
}
.tile .title{ font-weight:800; font-size:1rem; text-shadow:0 2px 8px rgba(0,0,0,.35) }
.tile .num{
  position:absolute; top:10px; left:10px;
  background:rgba(0,0,0,.65); color:#fff;
  padding:4px 9px; border-radius:999px; font-size:12px; font-weight:700;
  box-shadow:0 2px 6px rgba(0,0,0,.28);
}

/* =============================
   DETALLE DE ESCENA
============================= */
.main{display:block}

/* Encabezado de escena */
.scene-head{
  background:#ffffff;
  border:1px solid var(--border);
  border-radius:20px;
  box-shadow:var(--shadow);
  padding:18px;
  margin:22px 0 14px;
}
.scene-head .title{
  display:flex;
  align-items:center;
  gap:12px;
}
/* Eliminamos el puntico */
.dot{ display:none; }
#sceneSubtitle{color:var(--muted);margin:.35rem 0 .5rem}

/* Tarjetas unificadas */
.card{
  background:#ffffff;
  border:1px solid var(--border);
  border-radius:20px;
  box-shadow:var(--shadow);
  margin:22px 0;
  overflow:hidden;
}
.card .content{ padding:18px; }
.card .h3{
  margin:0 0 12px;
  font-weight:900;
  background:linear-gradient(90deg,var(--azul),var(--violeta));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

/* Sinopsis ahora con su contenedor */
#sceneIntro{
  background:#ffffff;
  border:1px solid var(--border);
  border-radius:20px;
  box-shadow:var(--shadow);
  margin:22px 0;
  overflow:hidden;
}
#sceneIntro .content{padding:18px;}
#sceneIntro .h3{
  margin:0 0 12px;
  font-weight:900;
  background:linear-gradient(90deg,var(--azul),var(--violeta));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
#sceneSense{color:#1f2937}
/* Oculta el h3 duplicado que inyecta app.js */
#sceneSense > h3{ display:none }

/* Chips genéricas */
.h3{margin:.4rem 0 .6rem;font-weight:900}
.lead{color:#1f2937}
.chips{display:flex;flex-wrap:wrap;gap:8px}
.chip{background:var(--chip);padding:6px 10px;border-radius:999px;font-size:12px}

/* =============================
   ELENCO por centro
============================= */
.cast-grid{display:block}
.cast-group{margin:14px 0 22px}
.group-title{
  font-weight:900;color:#2b2f6d;margin:0 2px 8px;
  background:linear-gradient(90deg,var(--azul),var(--violeta));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
}
.cast-rows{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}
.person{
  background:#fafbff; border:1px solid var(--border);
  border-radius:14px; padding:12px; text-align:center; color:inherit;
  transition:transform var(--t-fast) ease, box-shadow var(--t-fast) ease, border-color var(--t-fast);
}
.person:hover{transform:translateY(-2px); box-shadow:var(--shadow-strong); border-color:#dfe3f2}
.person img{width:86px;height:86px;object-fit:cover;border-radius:12px;margin:6px auto 8px}
.person b{font-weight:800}
.person .role{display:block;color:var(--muted);font-size:12px;margin-top:-2px}

/* =============================
   CRÉDITOS + FOOTER
============================= */
.credits{display:grid;gap:14px}
.credit-block{
  background:#fafbff; border:1px solid var(--border);
  border-radius:14px; padding:12px;
}
.credit-title{
  font-weight:900;margin-bottom:6px;
  background:linear-gradient(90deg,var(--violeta),var(--magenta));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
}
.credit-list{display:flex;flex-wrap:wrap;gap:6px}
.credit-chip{background:var(--chip);padding:6px 10px;border-radius:999px;font-size:12px}

.foot{display:grid;gap:10px;place-items:center;text-align:center;padding:32px 0 60px}
.ally-logos{display:flex;gap:16px;align-items:center}
.ally-logos .logo-badge{background:#fff;border:1px solid var(--border);box-shadow:var(--shadow)}
.muted{color:var(--muted)}

/* =============================
   MODALES + BOTÓN PQRS
============================= */
dialog{
  border:0;padding:0;border-radius:18px;background:var(--card);color:var(--ink);
  box-shadow:0 12px 40px rgba(0,0,0,.25);max-width:min(680px,92vw)
}
.modal-header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid var(--border)}
.modal-body{padding:16px}
.btn{
  background:linear-gradient(90deg,var(--violeta),var(--magenta));
  color:#fff;border:0;padding:10px 16px;border-radius:12px;cursor:pointer;
  transition:filter var(--t-fast)
}
.btn:hover{filter:brightness(1.05)}

#pqrsBtn{
  position:fixed;bottom:22px;right:22px;
  background:var(--magenta);color:#fff;border:0;border-radius:999px;
  padding:14px 22px;font-weight:800;display:flex;align-items:center;gap:8px;
  box-shadow:0 10px 20px rgba(206,0,113,.25);
  transition:transform var(--t-fast), filter var(--t-fast)
}
#pqrsBtn:hover{transform:translateY(-2px);filter:brightness(1.05)}
#pqrsBtn svg{width:18px;height:18px;fill:#fff}

/* =============================
   Accesibilidad + Animaciones
============================= */
:focus-visible{outline:2px solid #94a3ff; outline-offset:3px; border-radius:10px}
@keyframes fade-up{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.tile,.person,.menu button{animation:fade-up var(--t-slow) ease both}

/* =============================
   Responsive tweaks
============================= */
@media (max-width:640px){
  .tile .img-wrap{height:160px}
  .brand-text strong{font-size:1rem}
}
