<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Programa de mano · AlegreMente 2025</title>
  <link rel="icon" href="logo.png" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body class="theme-midnight">
  <div class="app">
    <!-- Topbar -->
    <header class="topbar">
      <button id="menuBtn" class="icon-btn" aria-label="Abrir menú" aria-controls="drawer" aria-expanded="false">
        <svg width="26" height="26" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M4 6h16M4 12h16M4 18h16" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>

      <div class="brand">
        <img src="logo.png" alt="Musicala" width="28" height="28" />
        <div class="brand-text">
          <strong>AlegreMente 2025</strong>
          <small>Programa de mano</small>
        </div>
      </div>

      <div class="partners" aria-label="Aliados">
        <span class="logo-badge"><img src="LOGO FSA.png" alt="Fundación San Antonio" height="22" /></span>
        <span class="logo-badge"><img src="GMMMC Logo color.png" alt="GMMMC" height="22" /></span>
      </div>
    </header>

    <!-- Drawer -->
    <aside id="drawer" class="drawer" aria-hidden="true">
      <div class="drawer-head">
        <strong>Escenas</strong>
        <button id="closeDrawer" class="icon-btn" aria-label="Cerrar menú">✕</button>
      </div>
      <div class="drawer-body">
        <div class="search">
          <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z"
                  stroke="#fff" stroke-width="1.6" stroke-linecap="round"/>
          </svg>
          <label for="q" class="sr-only">Buscar escena, artista o rol</label>
          <input id="q" type="search" placeholder="Buscar escena, artista o rol…" autocomplete="off" inputmode="search" />
        </div>
        <nav class="menu" id="sceneMenu" aria-label="Listado de escenas"></nav>
      </div>
    </aside>
    <div id="scrim" class="scrim" hidden></div>

    <!-- Grid de imágenes (home) -->
    <section id="tiles" class="tiles wrap" aria-label="Explora las escenas"></section>

    <!-- Detalle de escena -->
    <main id="main" class="main wrap" tabindex="-1">
      <header class="scene-head">
        <div class="title">
          <div>
            <h2 id="sceneTitle">Selecciona una escena</h2>
            <p id="sceneSubtitle" class="muted">Toca una escena para ver sinopsis y elenco.</p>
          </div>
        </div>
        <div class="head-actions">
          <button id="shareBtn" class="btn-ghost" hidden>Compartir</button>
          <button id="backBtn" class="btn-ghost" hidden>Volver</button>
        </div>
      </header>

      <figure class="scene-media">
        <img id="sceneImage" src="" alt="" loading="lazy" decoding="async" />
        <figcaption id="sceneCaption" class="sr-only"></figcaption>
      </figure>

      <!-- Sinopsis -->
      <section id="sceneIntro" class="card" hidden>
        <div class="content">
          <h3 class="h3">Sinopsis</h3>
          <p id="sceneSense"></p>
          <div class="chips" id="sceneChips"></div>
        </div>
      </section>

      <!-- Elenco -->
      <section id="sceneCast" class="card" hidden>
        <div class="content">
          <h3 class="h3">Elenco</h3>
          <div id="castGrid" class="grid"></div>
        </div>
      </section>

      <!-- Créditos (el equipo completo ya está aquí) -->
      <section id="credits" class="card">
        <div class="content">
          <h3 class="h3">Créditos</h3>
          <div id="creditsGrid" class="credits"></div>
        </div>
      </section>

      <footer class="foot wrap">
        <div class="ally-logos">
          <span class="logo-badge"><img src="logo.png" alt="Musicala" height="22"></span>
          <span class="logo-badge"><img src="LOGO FSA.png" alt="Fundación San Antonio" height="22"></span>
          <span class="logo-badge"><img src="GMMMC Logo color.png" alt="GMMMC" height="22"></span>
        </div>
        <small class="muted">© 2025 Musicala · Hecho con cariño.</small>
      </footer>
    </main>
  </div>

  <!-- Bienvenida -->
  <dialog id="welcome" aria-modal="true">
    <div class="modal-header">
      <strong>Bienvenid@s</strong>
      <button class="icon-btn" id="wClose" data-close>✕</button>
    </div>
    <div class="modal-body">
      <p>Este es el programa de mano digital del evento <b>AlegreMente 2025</b>. Explora las escenas, mira el elenco y conoce más del proyecto.</p>
      <button class="btn" id="wStart" data-close>Empezar</button>
    </div>
  </dialog>

  <!-- Modal persona -->
  <dialog id="personModal" aria-modal="true">
    <div class="modal-header">
      <strong id="pmName">Nombre</strong>
      <button class="icon-btn" id="pmClose" data-close>✕</button>
    </div>
    <div class="modal-body">
      <div class="modal-flex">
        <img id="pmPhoto" src="" alt="" loading="lazy" decoding="async" />
        <div>
          <h3 id="pmRole" class="h4">Rol</h3>
          <p id="pmBio"></p>
          <div class="chips" id="pmTags"></div>
        </div>
      </div>
    </div>
  </dialog>

  <!-- Botón flotante PQRS -->
  <button id="pqrsBtn" onclick="window.open('https://musicala.github.io/pqrsalegremente2025/', '_blank')">
    <svg viewBox="0 0 24 24"><path d="M12 22c5.5 0 10-4 10-9s-4.5-9-10-9S2 8 2 13c0 2.1.8 4 2.2 5.5-.4 1.3-1 2.6-1.8 3.8 1.8-.2 3.5-.8 5-1.6 1.5.5 3.1.8 4.6.8z"/></svg>
    Dejar comentario
  </button>

  <script src="app.js" defer></script>
</body>
</html>
